class Solution {
public:
    // dp[i]: the longest subsequence we can get if end with ith column
    int minDeletionSize(vector<string>& A) {
        int m = A.size(), n = A[0].size(), maxLength = 1;
        vector<int> dp(n, 1);
        for(int col = 1; col < n; col++){
            for(int k = 0; k < col; k++){
                int row = 0;
                for(; row < m; row++){
                    if(A[row][col] < A[row][k]) break;
                }
                // if all columns can be the last column
                if(row == m){
                    dp[col] = max(dp[col], dp[k]+1);
                    maxLength = max(maxLength, dp[col]);
                }
            }
        }
        return n-maxLength;
    }
};
